import{r as a,j as e,L as S}from"./index-pa_thSCV.js";import{b as P,c as p,a as f}from"./index.esm-Dz0yT19O.js";import{C as A,a as R}from"./CRow-C3S0_Vw6.js";import{C as k,a as E}from"./CCardBody-GxEf9Cn3.js";import{C as L}from"./CForm-NXa-OVrg.js";import{C as y}from"./CAlert-XTRLu0jZ.js";import{C as c,a as n}from"./CInputGroupText-CO-DgtaG.js";import{c as I,a as v}from"./cil-user-Dlmw-Gem.js";import{C as l}from"./CFormInput-DIoOgNae.js";import"./CCloseButton-D20GoHuj.js";import"./CFormControlWrapper-DllR3RVu.js";import"./CFormControlValidation-D9fpJgZl.js";import"./CFormLabel-CMaJqg25.js";const K=()=>{const[i,u]=a.useState(""),[m,x]=a.useState(""),[t,h]=a.useState(""),[o,j]=a.useState(""),[C,w]=a.useState(""),[g,r]=a.useState(""),N=async s=>{if(s.preventDefault(),!i||!m||!t||!o){r("All fields are required.");return}if(t!==o){r("Passwords do not match.");return}try{const d=await fetch("https://hospital-management-server-nu.vercel.app/api/registers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,email:m,password:t,confirmPassword:o})}),b=await d.json();d.ok?(w("Account created successfully."),r(""),u(""),x(""),h(""),j("")):r(b.error||"Registration failed.")}catch{r("Server error. Please try again.")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(P,{children:e.jsx(A,{className:"justify-content-center",children:e.jsx(R,{md:9,lg:7,xl:6,children:e.jsx(k,{className:"mx-4",children:e.jsx(E,{className:"p-4",children:e.jsxs(L,{onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),C&&e.jsx(y,{color:"success",className:"text-center",children:C}),g&&e.jsx(y,{color:"danger",className:"text-center",children:g}),e.jsxs(c,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(p,{icon:I})}),e.jsx(l,{value:i,onChange:s=>u(s.target.value),placeholder:"Username",autoComplete:"username"})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(n,{children:"@"}),e.jsx(l,{value:m,onChange:s=>x(s.target.value),placeholder:"Email",autoComplete:"email"})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(p,{icon:v})}),e.jsx(l,{type:"password",value:t,onChange:s=>h(s.target.value),placeholder:"Password",autoComplete:"new-password"})]}),e.jsxs(c,{className:"mb-4",children:[e.jsx(n,{children:e.jsx(p,{icon:v})}),e.jsx(l,{type:"password",value:o,onChange:s=>j(s.target.value),placeholder:"Repeat password",autoComplete:"new-password"})]}),e.jsx("div",{className:"d-grid",children:e.jsx(f,{type:"submit",color:"success",children:"Create Account"})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-center mt-3",children:[e.jsx("p",{className:"mb-0 me-2",children:"Already have an account?"}),e.jsx(S,{to:"/login",children:e.jsx(f,{color:"link",className:"p-0",children:"Go to Login"})})]})]})})})})})})})};export{K as default};
